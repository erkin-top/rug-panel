<div class="modal-overlay">
    <div class="modal modal-qr">
        <div class="modal-header">
            <h2>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <rect x="7" y="7" width="3" height="3"/>
                    <rect x="14" y="7" width="3" height="3"/>
                    <rect x="7" y="14" width="3" height="3"/>
                    <rect x="14" y="14" width="3" height="3"/>
                </svg>
                {{ peer.get('_name', t.peer.client) }}
            </h2>
            <button class="btn-close" onclick="closeModal()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
        </div>
        
        <div class="modal-body">
            <div class="qr-container">
                <img src="data:image/png;base64,{{ qr_code }}" alt="QR Code" class="qr-image">
            </div>
            
            <p class="qr-hint">
                {{ t.peer.scan_qr }}
            </p>
            
            <div class="config-actions">
                <a href="/peers/config?key={{ peer.PublicKey | urlencode_full }}" 
                   class="btn btn-primary" download>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    {{ t.peer.download_config }}
                </a>
            </div>
            
            <details class="config-details">
                <summary>{{ t.peer.show_config }}</summary>
                <pre class="config-content">{{ config }}</pre>
            </details>
        </div>
        
        <div class="modal-footer">
            <button type="button" class="btn btn-outline" onclick="closeModal()">
                {{ t.common.close }}
            </button>
        </div>
    </div>
</div>
